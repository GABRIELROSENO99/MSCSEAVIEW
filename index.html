<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MSC Seaview: O Grande Dia - 07/03/2026</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Define a fonte Inter (padr√£o) e um fundo azul marinho n√°utico */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #001f3f; /* Azul Marinho */
            color: #ffffff; /* Branco */
        }
        /* Efeito de hover e sombra neon para o bot√£o principal, com vermelho n√°utico */
        .btn-neon {
            transition: all 0.3s ease;
            box-shadow: 0 0 15px #ff0000; /* Sombra Neon Vermelho */
        }
        .btn-neon:hover {
            transform: scale(1.03);
            box-shadow: 0 0 25px #ff0000, 0 0 35px #ff0000; /* Sombra mais intensa */
            background-color: #cc0000;
        }
        /* Estilo para a caixa de curiosidades e roteiro */
        .curiosity-box {
            min-height: 150px; /* Garante que a caixa n√£o encolha muito */
            display: flex;
            align-items: center;
            text-align: center;
            padding: 1rem;
            transition: opacity 0.3s ease-in-out; /* Adiciona transi√ß√£o para o novo conte√∫do */
        }
        /* Ajuste para o conte√∫do do roteiro n√£o ser centralizado verticalmente */
        #roteiro-content {
             text-align: left;
             justify-content: flex-start; /* Alinha o conte√∫do ao topo, se houver espa√ßo */
             align-items: flex-start;
        }
        /* --- Estilos do Jogo da Velha --- */
        #game-board {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 1fr);
            width: 100%;
            max-width: 300px;
            height: 300px;
            margin: 20px auto;
            border: 4px solid #ff0000;
            border-radius: 10px;
            overflow: hidden;
        }
        .cell {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            font-weight: bold;
            color: #fff;
            background-color: #002b5c; /* Azul Marinho Escuro */
            border: 2px solid #ff0000;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .cell:hover:not(.x):not(.o) {
            background-color: #003366; /* Azul Marinho M√©dio */
        }
        .cell.x {
            color: #ffffff; /* Branco */
        }
        .cell.o {
            color: #ff0000; /* Vermelho */
        }
        /* Estilo para a mensagem de desafio (modal customizado) */
        .challenge-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        .challenge-content {
            background-color: #001f3f;
            border: 4px solid #ff0000;
            border-radius: 15px;
            padding: 30px;
            max-width: 90%;
            text-align: center;
            animation: bounceIn 0.5s ease-out;
        }
        @keyframes bounceIn {
            0% { transform: scale(0.5); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">
    <main class="flex-grow flex items-center justify-center p-4">
        <div class="max-w-4xl w-full bg-blue-900 shadow-2xl rounded-2xl p-8 md:p-12 text-center border-b-8 border-red-500">
          
            <h1 class="text-4xl md:text-6xl font-extrabold mb-4 text-white">
                MSC Seaview - A Grande Viagem de Cruzeiro!
            </h1>
            <p class="text-xl md:text-3xl font-semibold mb-8 text-red-500">
                Partida em 07 de Mar√ßo de 2026
            </p>
            <div class="mb-10 p-4 bg-blue-800 rounded-xl shadow-lg border border-white">
                <p id="loading-text" class="text-xl md:text-2xl font-bold text-white mb-2">
                    LOADING...
                </p>
                <div class="w-full bg-blue-900 rounded-full h-4 relative">
                    <div id="progress-bar" class="h-4 rounded-full bg-red-500 transition-all duration-1000 ease-out" style="width: 0%"></div>
                </div>
            </div>
            <div id="countdown" class="grid grid-cols-2 sm:grid-cols-4 gap-4 mb-10">
              
                <div class="p-4 bg-blue-800 rounded-xl shadow-lg border border-red-500">
                    <span id="days" class="text-5xl md:text-7xl font-bold text-white block">0</span>
                    <span class="text-sm uppercase font-medium mt-1 text-gray-200">Dias</span>
                </div>
                <div class="p-4 bg-blue-800 rounded-xl shadow-lg border border-red-500">
                    <span id="hours" class="text-5xl md:text-7xl font-bold text-white block">0</span>
                    <span class="text-sm uppercase font-medium mt-1 text-gray-200">Horas</span>
                </div>
                <div class="p-4 bg-blue-800 rounded-xl shadow-lg border border-red-500">
                    <span id="minutes" class="text-5xl md:text-7xl font-bold text-white block">0</span>
                    <span class="text-sm uppercase font-medium mt-1 text-gray-200">Minutos</span>
                </div>
                <div class="p-4 bg-blue-800 rounded-xl shadow-lg border border-red-500">
                    <span id="seconds" class="text-5xl md:text-7xl font-bold text-white block">0</span>
                    <span class="text-sm uppercase font-medium mt-1 text-gray-200">Segundos</span>
                </div>
            </div>
            <a href="https://www.msccruzeiros.com.br/nossos-cruzeiros/navios/msc-seaview" target="_blank" class="inline-block px-8 py-3 bg-red-500 text-white font-bold rounded-full btn-neon hover:bg-red-600">
                &#10148; Site Oficial do MSC Seaview
            </a>
            <p class="text-sm text-gray-400 mt-2">
                *MSC Seaview - A melhor viagem da sua vida !
            </p>
            <hr class="my-10 border-blue-800">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 text-left mb-10">
              
                <!-- Card VOC√ä SABIA? com bot√£o de atualiza√ß√£o manual -->
                <div>
                    <div class="flex justify-between items-center mb-3">
                        <h2 class="text-2xl font-bold text-white flex items-center">
                            <svg class="w-6 h-6 mr-2 text-red-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M11.696 17.51a1 1 0 001.317.095l4-3a1 1 0 00.095-1.317l-3-4a1 1 0 10-1.624 1.258L14.28 12H7a1 1 0 000 2h7.28l-2.091 2.755a1 1 0 00.107 1.455zM6 8a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"></path></svg>
                            Voc√™ Sabia? ü§î
                        </h2>
                        <button onclick="updateCuriosidade()"
                            class="px-3 py-1 bg-red-500 text-white text-sm font-semibold rounded-full shadow-md hover:bg-red-600 transition duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50">
                            Atualizar
                        </button>
                    </div>
                    <div id="curiosity-content" class="curiosity-box p-4 bg-blue-800 rounded-xl shadow-inner border border-white text-lg text-gray-200">
                        Preparando a primeira curiosidade...
                    </div>
                </div>
              
                <!-- Card ROTEIRO DE VIAGEM (Antigo Destaques e Dicas) com bot√£o de atualiza√ß√£o manual -->
                <div>
                    <div class="flex justify-between items-center mb-3">
                        <h2 id="roteiro-title" class="text-2xl font-bold text-white flex items-center">
                            <svg class="w-6 h-6 mr-2 text-red-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd"></path></svg>
                            Roteiro de Viagem üóìÔ∏è
                        </h2>
                        <button onclick="updateRoteiro()"
                            class="px-3 py-1 bg-red-500 text-white text-sm font-semibold rounded-full shadow-md hover:bg-red-600 transition duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50">
                            Pr√≥ximo Dia
                        </button>
                    </div>
                    <div id="roteiro-content" class="curiosity-box p-4 bg-blue-800 rounded-xl shadow-inner border border-white text-base text-gray-300">
                        Buscando o primeiro dia do roteiro...
                    </div>
                </div>
            </div>
            <hr class="my-10 border-blue-800">
            <div class="w-full text-center p-4 bg-blue-800 rounded-xl shadow-2xl border border-red-500">
                <h2 class="text-3xl font-bold text-white mb-6">
                    Quer passar o tempo at√© a viagem chegar?
                </h2>
              
                <p id="game-status" class="text-lg font-semibold mb-4 text-gray-200">
                    Sua vez (X)
                </p>
                <div id="game-board">
                    <div class="cell" data-index="0"></div>
                    <div class="cell" data-index="1"></div>
                    <div class="cell" data-index="2"></div>
                    <div class="cell" data-index="3"></div>
                    <div class="cell" data-index="4"></div>
                    <div class="cell" data-index="5"></div>
                    <div class="cell" data-index="6"></div>
                    <div class="cell" data-index="7"></div>
                    <div class="cell" data-index="8"></div>
                </div>
                <button id="reset-button" class="mt-4 px-6 py-2 bg-red-500 text-white font-bold rounded-full btn-neon hover:bg-red-600">
                    Reiniciar Jogo
                </button>
            </div>
            </div>
    </main>
    <div id="challenge-modal" class="challenge-modal">
        <div class="challenge-content">
            <h3 class="text-3xl font-extrabold text-red-500 mb-4">DERROTA! Desafio Ativado! üòà</h3>
            <p id="challenge-text" class="text-xl text-white mb-6 font-medium">
                </p>
            <button onclick="closeChallengeModal()" class="px-6 py-2 bg-white text-blue-900 font-bold rounded-full hover:bg-gray-200 transition">
                Aceito o Desafio!
            </button>
        </div>
    </div>
    <footer class="p-4 text-center text-sm text-gray-400 bg-blue-900 border-t border-red-500">
        &copy; 2025-2026 P√°gina Oficial da Viagem de Cruzeiro MSC Seaview. Mal podemos esperar!
    </footer>
    <script>
        // --- CONSTANTES DE TEMPO ---
        const START_DATE = new Date("March 07, 2025 00:00:00").getTime();
        const TARGET_DATE = new Date("March 07, 2026 00:00:00").getTime();
        const TOTAL_DURATION = TARGET_DATE - START_DATE;
      
        // --- NOVO CONTE√öDO DIN√ÇMICO (Ciclo Manual) ---

        // 1. Curiosidades Detalhadas (para o card "Voc√™ Sabia?")
        const CURIOSIDADES_MSC = [
            'O **MSC Seaview** foi lan√ßado em junho de 2018 e pertence √† **Classe Seaside**, com design inovador projetado para se aproximar do mar.',
            'Seu lema de design √© "o navio que segue o sol" (The Ship that Follows the Sun), ideal para o clima quente da sua rota.',
            'O navio possui impressionantes **323 metros de comprimento** e cerca de 41 metros de boca (largura).',
            'Sua altura √© de aproximadamente **72 metros** (o equivalente a um pr√©dio de 23 andares) e ele tem **20 decks** (andares).',
            'O **MSC Seaview** tem capacidade para mais de **5.300 passageiros** e conta com uma tripula√ß√£o de mais de 1.400 pessoas.',
            'Um dos grandes destaques √© o **Waterfront Boardwalk**, um cal√ßad√£o no deck 8 que circunda 360 graus do navio com vista para o mar.',
            'A aventura est√° garantida com **duas tirolesas de 105 metros** de comprimento que cruzam a piscina principal!',
            'A **Infinity Bridge (Ponte do Infinito)** √© uma passarela de vidro que oferece vistas espetaculares e emocionantes do oceano.',
            'O navio tem **seis piscinas e 13 jacuzzis**. A **Jungle Pool** possui um teto retr√°til para qualquer condi√ß√£o clim√°tica.',
            'O **Forest Aquaventure Park** √© um dos parques aqu√°ticos mais interativos em um cruzeiro, cheio de escorregadores (tobog√£s).',
            'Para entretenimento seco, h√° uma **pista de boliche** de tamanho oficial e um **simulador de F√≥rmula 1**.',
            'A bordo, voc√™ encontra **10 restaurantes e 19 bares/lounges**. As refei√ß√µes b√°sicas no buffet e nos restaurantes principais est√£o inclu√≠das.',
            'O navio tem um restaurante especializado em culin√°ria pan-asi√°tica assinado pelo chef de renome mundial, **Roy Yamaguchi**.',
            'Em cruzeiros no Brasil, o buffet se adapta para oferecer pratos t√≠picos como **feijoada e picadinho**.',
            'Voc√™ pode saborear doces na aut√™ntica **chocolateria e gelateria italiana da marca Venchi**.',
            'O **Odeon Theatre** (Teatro Odeon) tem capacidade para cerca de 900 a 1.000 espectadores, com espet√°culos estilo Broadway todas as noites.',
            'Existem **seis clubes infantis** exclusivos (Baby, Mini, Juniors, Young, Teens e Studio Doremi) em parceria com **LEGO e Chicco**.',
            'O **MSC Aurea Spa** oferece massagens balinesas e tem uma √°rea termal completa, incluindo uma sala climatizada com **sal do Himalaia**.',
            'O **Garage Club Bar** (discoteca) √© o local das festas tem√°ticas que agitam a pista de dan√ßa at√© a madrugada.'
        ];

        // 2. Roteiro de Viagem (para o card "Roteiro de Viagem")
        const ROTEIRO_MSC = [
            {
                title: 'Dia 1 - 7 de Mar√ßo: Embarque em Santos',
                content: 'Sa√≠da de Santos (SP) √†s 17:00. Este √© o Dia de Embarque! Explore o navio, fa√ßa o treinamento de seguran√ßa e aproveite o jantar de boas-vindas.'
            },
            {
                title: 'Dia 2 - 8 de Mar√ßo: B√∫zios (RJ)',
                content: 'Chegada em B√∫zios √†s 11:00 e partida √†s 18:30. Aproveite a manh√£ e a tarde para visitar as praias e o centro charmoso da cidade.'
            },
            {
                title: 'Dia 3 - 9 de Mar√ßo: Em Alto Mar',
                content: 'Ser√° um dia completo de navega√ß√£o. Aproveite as tirolesas, o parque aqu√°tico e os espet√°culos do teatro durante a noite.'
            },
            {
                title: 'Dia 4 - 10 de Mar√ßo: Salvador (BA)',
                content: 'Chegada em Salvador √†s 10:30 e partida √†s 17:30. Tempo para visitar o Pelourinho e experimentar a aut√™ntica culin√°ria baiana.'
            },
            {
                title: 'Dia 5 - 11 de Mar√ßo: Macei√≥ (AL)',
                content: 'Chegada em Macei√≥ √†s 10:00 e partida √†s 17:30. Sugest√£o: fa√ßa um passeio para as famosas piscinas naturais da regi√£o.'
            },
            {
                title: 'Dia 6 - 12 de Mar√ßo: Em Alto Mar',
                content: 'Segundo dia em Alto Mar. Relaxe no Top Exclusive Solarium (para h√≥spedes Aurea/Yacht Club) ou curta as jacuzzis externas.'
            },
            {
                title: 'Dia 7 - 13 de Mar√ßo: Em Alto Mar',
                content: '√öltimo dia completo em Alto Mar. Aproveite para fazer compras no navio, ir ao spa ou jogar boliche e F1 antes do final da viagem.'
            },
            {
                title: 'Dia 8 - 14 de Mar√ßo: Desembarque em Santos',
                content: 'Chegada em Santos √†s 08:00. Este √© o Dia de Desembarque, finalizando a viagem inesquec√≠vel de 8 dias.'
            },
            {
                title: 'Resumo da Viagem',
                content: '<ul class="list-disc list-inside space-y-1 mt-2 font-medium text-gray-300">' +
                    '<li>**Ponto de Partida e Chegada:** Santos.</li>' +
                    '<li>**Dura√ß√£o Total:** 8 dias.</li>' +
                    '<li>**Dias de Navega√ß√£o:** 3 dias completos em alto mar.</li>' +
                    '<li>**Portos de Escala:** B√∫zios, Salvador e Macei√≥.</li>' +
                '</ul>'
            }
        ];

        // --- Vari√°veis de Estado para o Ciclo Manual ---
        let curiosidadeIndex = -1; // Come√ßa em -1 para que a primeira chamada carregue a curiosidade 0
        let roteiroIndex = -1; // Come√ßa em -1 para que a primeira chamada carregue o Dia 1

        // --- Fun√ß√µes de Atualiza√ß√£o Manual ---

        /**
         * Atualiza o conte√∫do do card "Voc√™ Sabia?" sequencialmente.
         */
        function updateCuriosidade() {
            const contentElement = document.getElementById('curiosity-content');
            
            contentElement.style.opacity = '0'; // Inicia a transi√ß√£o
            
            setTimeout(() => {
                // Avan√ßa para o pr√≥ximo √≠ndice, voltando ao 0 quando o limite for atingido
                curiosidadeIndex = (curiosidadeIndex + 1) % CURIOSIDADES_MSC.length;

                // Atualiza o conte√∫do
                contentElement.innerHTML = CURIOSIDADES_MSC[curiosidadeIndex];
                
                contentElement.style.opacity = '1'; // Finaliza a transi√ß√£o
            }, 300);
        }

        /**
         * Atualiza o conte√∫do e o t√≠tulo do card "Roteiro de Viagem" sequencialmente.
         */
        function updateRoteiro() {
            const contentElement = document.getElementById('roteiro-content');
            const titleElement = document.getElementById('roteiro-title');
            const button = document.querySelector('#roteiro-content + button');
            
            contentElement.style.opacity = '0'; // Inicia a transi√ß√£o

            setTimeout(() => {
                // Avan√ßa para o pr√≥ximo √≠ndice, voltando ao 0 (Dia 1) quando o limite for atingido
                roteiroIndex = (roteiroIndex + 1) % ROTEIRO_MSC.length;
                
                const currentItem = ROTEIRO_MSC[roteiroIndex];
                
                // Atualiza o t√≠tulo do card (a tag h2)
                titleElement.innerHTML = `<svg class="w-6 h-6 mr-2 text-red-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd"></path></svg>${currentItem.title}`;
                
                // Atualiza o conte√∫do
                contentElement.innerHTML = currentItem.content;
                
                contentElement.style.opacity = '1'; // Finaliza a transi√ß√£o
                
                // Atualiza o texto do bot√£o
                const roteiroButton = document.querySelector('#roteiro-content').previousElementSibling.querySelector('button');
                if (roteiroIndex === ROTEIRO_MSC.length - 1) {
                    roteiroButton.textContent = 'Ver Dia 1';
                } else {
                    roteiroButton.textContent = 'Pr√≥ximo Dia';
                }
            }, 300);
        }
      
        // --- FUN√á√ïES DE TEMPO E PROGRESSO (Mantidas) ---
        function updateTimeDisplay() {
            const now = new Date().getTime();
            const distance = TARGET_DATE - now;
            if (distance < 0) {
                // Para o timer
                clearInterval(countdownFunction);
                document.getElementById("countdown").innerHTML = '<div class="text-4xl font-extrabold text-red-500 col-span-4">√â HOJE! A VIAGEM COME√áOU!</div>';
                // Finaliza a barra de progresso
                document.getElementById("loading-text").textContent = 'CARREGAMENTO CONCLU√çDO 100%';
                document.getElementById("progress-bar").style.width = '100%';
                return;
            }
            // C√°lculo do tempo para dias, horas, minutos e segundos
            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);
            // Atualiza os elementos no DOM
            document.getElementById("days").innerHTML = days;
            document.getElementById("hours").innerHTML = hours;
            document.getElementById("minutes").innerHTML = minutes;
            document.getElementById("seconds").innerHTML = seconds;
            // --- Barra de Progresso (%) ---
            const elapsedTime = now - START_DATE;
            let percentage = (elapsedTime / TOTAL_DURATION) * 100;
            if (percentage < 0) {
                percentage = 0;
            } else if (percentage > 100) {
                percentage = 100;
            }
            const percentText = Math.floor(percentage);
            document.getElementById("loading-text").textContent = `LOADING ${percentText}%`;
            document.getElementById("progress-bar").style.width = `${percentage}%`;
        }
      
        // --- JOGO DA VELHA (TIC-TAC-TOE) (Mantido) ---
        const CHALLENGES = [
            "Perdeu, agora voc√™ ter√° que dan√ßar na festa da piscina do navio! üï∫",
            "Perdeu, te desafio a provar todos os sabores de sorvete no buffet! üç®",
            "Perdeu, voc√™ ter√° que pedir uma bebida ex√≥tica para Adriana no bar do navio! üçπ",
            "Perdeu, voce ter√° que provar a todos que nao tem vergonha de dancar em publico! üåä",
            "Perdeu, voce ter√° que acordar todo dia as 06 da manha para ver o nascer do sol no deck! üåÖ",
            "Perdeu, voc√™ ter√° que cantar uma m√∫sica no karaok√™ a bordo! üé§",
            "Perdeu, fa√ßa uma pose engra√ßada e tire uma foto com o host do navio üòÇ",
            "Perdeu, diga um elogio sincero EM INGLES a um tripulante! üòâ",
            "Perdeu, troque de chap√©u com algu√©m da fam√≠lia por uma hora no deck. üé©",
            "Perdeu, pe√ßa um prato ex√≥tico no restaurante que voc√™ nunca comeu antes. Se for bom, divida com o Alexandre! üçΩÔ∏è",
        ];
        let board = ["", "", "", "", "", "", "", "", ""];
        let currentPlayer = "X"; 
        let gameActive = true;
        const statusDisplay = document.getElementById("game-status");
        const cells = document.querySelectorAll(".cell");
        const challengeModal = document.getElementById("challenge-modal");
        const challengeText = document.getElementById("challenge-text");
        const winningConditions = [
            [0, 1, 2], [3, 4, 5], [6, 7, 8], 
            [0, 3, 6], [1, 4, 7], [2, 5, 8], 
            [0, 4, 8], [2, 4, 6] 
        ];
        function checkWin() {
            for (let i = 0; i < winningConditions.length; i++) {
                const [a, b, c] = winningConditions[i];
                if (board[a] && board[a] === board[b] && board[a] === board[c]) {
                    gameActive = false;
                    return true;
                }
            }
            return false;
        }
        function checkDraw() {
            return !board.includes("");
        }
        function updateStatus(message) {
            statusDisplay.textContent = message;
        }
        function showChallenge(winner) {
            if (winner === "O") {
                const randomIndex = Math.floor(Math.random() * CHALLENGES.length);
                challengeText.textContent = CHALLENGES[randomIndex];
                challengeModal.style.display = 'flex';
            }
        }
        window.closeChallengeModal = function() {
            challengeModal.style.display = 'none';
        }
        function computerMove() {
            if (!gameActive) return;
            for (let i = 0; i < winningConditions.length; i++) {
                const [a, b, c] = winningConditions[i];
                if (board[a] === "O" && board[b] === "O" && board[c] === "") return playMove(c);
                if (board[a] === "O" && board[c] === "O" && board[b] === "") return playMove(b);
                if (board[b] === "O" && board[c] === "O" && board[a] === "") return playMove(a);
            }
            for (let i = 0; i < winningConditions.length; i++) {
                const [a, b, c] = winningConditions[i];
                if (board[a] === "X" && board[b] === "X" && board[c] === "") return playMove(c);
                if (board[a] === "X" && board[c] === "X" && board[b] === "") return playMove(b);
                if (board[b] === "X" && board[c] === "X" && board[a] === "") return playMove(a);
            }
            if (board[4] === "") return playMove(4);
            const corners = [0, 2, 6, 8].filter(index => board[index] === "");
            if (corners.length > 0) return playMove(corners[Math.floor(Math.random() * corners.length)]);
            const availableMoves = board.map((val, index) => val === "" ? index : null).filter(val => val !== null);
            if (availableMoves.length > 0) {
                const moveIndex = availableMoves[Math.floor(Math.random() * availableMoves.length)];
                return playMove(moveIndex);
            }
        }
        function playMove(index) {
            if (board[index] !== "" || !gameActive) return;
            board[index] = currentPlayer;
            cells[index].textContent = currentPlayer;
            cells[index].classList.add(currentPlayer.toLowerCase());
            if (checkWin()) {
                updateStatus(currentPlayer === "X" ? "VOC√ä VENCEU! üéâ" : "O COMPUTADOR VENCEU! ü§ñ");
                showChallenge(currentPlayer);
                return;
            }
            if (checkDraw()) {
                updateStatus("EMPATE! ü§ù");
                gameActive = false;
                return;
            }
            currentPlayer = currentPlayer === "X" ? "O" : "X";
            updateStatus(currentPlayer === "X" ? "Sua vez (X)" : "Vez do Computador (O)...");
            if (currentPlayer === "O") {
                setTimeout(computerMove, 500);
            }
        }
        function handleCellClick(event) {
            const clickedCellIndex = parseInt(event.target.getAttribute('data-index'));
            if (board[clickedCellIndex] !== "" || !gameActive || currentPlayer === "O") {
                return;
            }
            playMove(clickedCellIndex);
        }
        function resetGame() {
            board = ["", "", "", "", "", "", "", "", ""];
            gameActive = true;
            currentPlayer = "X";
            updateStatus("Sua vez (X)");
            cells.forEach(cell => {
                cell.textContent = "";
                cell.classList.remove("x", "o");
            });
            closeChallengeModal();
        }

        // --- INICIALIZA√á√ÉO ---
        document.addEventListener('DOMContentLoaded', () => {
             updateTimeDisplay(); 
             cells.forEach(cell => cell.addEventListener('click', handleCellClick));
             document.getElementById("reset-button").addEventListener('click', resetGame);
             
             // Inicializa o conte√∫do manual
             updateCuriosidade();
             updateRoteiro();

             resetGame(); // Inicializa o jogo
        });
        
        // Inicia a contagem regressiva
        const countdownFunction = setInterval(updateTimeDisplay, 1000); 
    </script>
</body>
</html>
