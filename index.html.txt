<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resort La Torre: O Grande Dia - 09/11/2026</title>
    <!-- Carrega o Tailwind CSS para estiliza√ß√£o moderna e responsiva -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Define a fonte Inter (padr√£o) e um fundo escuro "neon" */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f172a; /* Fundo Azul Escuro (Slate 900) */
            color: #e2e8f0; /* Texto Claro */
        }
        /* Efeito de hover e sombra neon para o bot√£o principal */
        .btn-neon {
            transition: all 0.3s ease;
            box-shadow: 0 0 15px #f054a3; /* Sombra Neon Pink */
        }
        .btn-neon:hover {
            transform: scale(1.03);
            box-shadow: 0 0 25px #f054a3, 0 0 35px #f054a3; /* Sombra mais intensa */
            background-color: #d84594;
        }
        /* Estilo para a caixa de curiosidades */
        .curiosity-box {
            min-height: 150px; /* Garante que a caixa n√£o encolha muito */
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        /* --- Estilos do Jogo da Velha --- */
        #game-board {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 1fr);
            width: 100%;
            max-width: 300px;
            height: 300px;
            margin: 20px auto;
            border: 4px solid #f054a3;
            border-radius: 10px;
            overflow: hidden;
        }
        .cell {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            font-weight: bold;
            color: #fff;
            background-color: #1e293b; /* Slate 800 */
            border: 2px solid #f054a3;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .cell:hover:not(.x):not(.o) {
            background-color: #334155; /* Slate 700 */
        }
        .cell.x {
            color: #06b6d4; /* Cyan 500 */
        }
        .cell.o {
            color: #f054a3; /* Pink 500 */
        }

        /* Estilo para a mensagem de desafio (modal customizado) */
        .challenge-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        .challenge-content {
            background-color: #0f172a;
            border: 4px solid #f054a3;
            border-radius: 15px;
            padding: 30px;
            max-width: 90%;
            text-align: center;
            animation: bounceIn 0.5s ease-out;
        }
        @keyframes bounceIn {
            0% { transform: scale(0.5); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }

    </style>
</head>
<body class="min-h-screen flex flex-col">

    <!-- Se√ß√£o Principal e Contagem Regressiva -->
    <main class="flex-grow flex items-center justify-center p-4">
        <div class="max-w-4xl w-full bg-slate-800 shadow-2xl rounded-2xl p-8 md:p-12 text-center border-b-8 border-pink-500">
            
            <!-- T√≠tulo Principal com estilo neon -->
            <h1 class="text-4xl md:text-6xl font-extrabold mb-4 text-cyan-400">
                Resort La Torre - A Grande Viagem!
            </h1>
            <p class="text-xl md:text-3xl font-semibold mb-8 text-pink-500">
                Porto Seguro, Bahia - 09 de Novembro de 2026
            </p>

            <!-- Barra de Progresso e Porcentagem -->
            <div class="mb-10 p-4 bg-slate-700 rounded-xl shadow-lg border border-cyan-400">
                <p id="loading-text" class="text-xl md:text-2xl font-bold text-cyan-400 mb-2">
                    LOADING...
                </p>
                <div class="w-full bg-slate-900 rounded-full h-4 relative">
                    <div id="progress-bar" class="h-4 rounded-full bg-pink-500 transition-all duration-1000 ease-out" style="width: 0%"></div>
                </div>
            </div>

            <!-- Contagem Regressiva (Elementos com fundo escuro e texto neon) -->
            <div id="countdown" class="grid grid-cols-2 sm:grid-cols-4 gap-4 mb-10">
                
                <div class="p-4 bg-slate-700 rounded-xl shadow-lg border border-pink-500">
                    <span id="days" class="text-5xl md:text-7xl font-bold text-cyan-400 block">0</span>
                    <span class="text-sm uppercase font-medium mt-1 text-white">Dias</span>
                </div>

                <div class="p-4 bg-slate-700 rounded-xl shadow-lg border border-pink-500">
                    <span id="hours" class="text-5xl md:text-7xl font-bold text-cyan-400 block">0</span>
                    <span class="text-sm uppercase font-medium mt-1 text-white">Horas</span>
                </div>

                <div class="p-4 bg-slate-700 rounded-xl shadow-lg border border-pink-500">
                    <span id="minutes" class="text-5xl md:text-7xl font-bold text-cyan-400 block">0</span>
                    <span class="text-sm uppercase font-medium mt-1 text-white">Minutos</span>
                </div>

                <div class="p-4 bg-slate-700 rounded-xl shadow-lg border border-pink-500">
                    <span id="seconds" class="text-5xl md:text-7xl font-bold text-cyan-400 block">0</span>
                    <span class="text-sm uppercase font-medium mt-1 text-white">Segundos</span>
                </div>
            </div>

            <!-- Bot√£o do Resort com estilo neon -->
            <a href="https://www.resortlatorre.com.br/" target="_blank" class="inline-block px-8 py-3 bg-pink-500 text-white font-bold rounded-full btn-neon hover:bg-pink-600">
                &#10148; Site Oficial do Resort La Torre (All Inclusive)
            </a>
            <p class="text-sm text-gray-400 mt-2">
                *La Torre √© o 5¬∫ melhor Resort all inclusive da Am√©rica do Sul

            </p>

            <hr class="my-10 border-slate-700">

            <!-- Se√ß√£o de Curiosidades e Dicas (Novas Se√ß√µes Din√¢micas) -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 text-left mb-10">
                
                <!-- Nova Se√ß√£o: Voc√™ Sabia? (Curiosidades) -->
                <div>
                    <h2 class="text-2xl font-bold text-cyan-400 mb-3 flex items-center">
                        <!-- √çcone de L√¢mpada (Ideia) com cor neon -->
                        <svg class="w-6 h-6 mr-2 text-pink-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M11.696 17.51a1 1 0 001.317.095l4-3a1 1 0 00.095-1.317l-3-4a1 1 0 10-1.624 1.258L14.28 12H7a1 1 0 000 2h7.28l-2.091 2.755a1 1 0 00.107 1.455zM6 8a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"></path></svg>
                        Voc√™ Sabia? ü§î
                    </h2>
                    <div id="curiosity-content" class="curiosity-box p-4 bg-slate-700 rounded-xl shadow-inner border border-cyan-400 text-lg text-white">
                        <!-- Conte√∫do da Curiosidade ser√° inserido aqui pelo JS -->
                        Preparando a primeira curiosidade...
                    </div>
                </div>
                
                <!-- Se√ß√£o Atualizada: Destaques e Dicas do Resort -->
                <div>
                    <h2 class="text-2xl font-bold text-cyan-400 mb-3 flex items-center">
                        <!-- √çcone de Foco/Destaque com cor neon -->
                        <svg class="w-6 h-6 mr-2 text-pink-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2.035 2.836A1 1 0 009 11v1a1 1 0 102 0v-1a1 1 0 00-1-1.836h-.001z" clip-rule="evenodd"></path></svg>
                        Destaques e Dicas La Torre
                    </h2>
                    <div id="resort-tip-content" class="curiosity-box p-4 bg-slate-700 rounded-xl shadow-inner border border-cyan-400 text-base text-gray-300">
                        <!-- Conte√∫do da Dica ser√° inserido aqui pelo JS -->
                        Buscando a primeira dica do resort...
                    </div>
                </div>
            </div>

            <hr class="my-10 border-slate-700">

            <!-- NOVO: Se√ß√£o do Jogo da Velha com Desafios -->
            <div class="w-full text-center p-4 bg-slate-700 rounded-xl shadow-2xl border border-pink-500">
                <h2 class="text-3xl font-bold text-cyan-400 mb-6">
                    Quer passar o tempo at√© a viagem chegar?
                </h2>
                
                <p id="game-status" class="text-lg font-semibold mb-4 text-white">
                    Sua vez (X)
                </p>

                <!-- Board do Jogo da Velha -->
                <div id="game-board">
                    <div class="cell" data-index="0"></div>
                    <div class="cell" data-index="1"></div>
                    <div class="cell" data-index="2"></div>
                    <div class="cell" data-index="3"></div>
                    <div class="cell" data-index="4"></div>
                    <div class="cell" data-index="5"></div>
                    <div class="cell" data-index="6"></div>
                    <div class="cell" data-index="7"></div>
                    <div class="cell" data-index="8"></div>
                </div>

                <!-- Bot√£o de Reiniciar -->
                <button id="reset-button" class="mt-4 px-6 py-2 bg-pink-500 text-white font-bold rounded-full btn-neon hover:bg-pink-600">
                    Reiniciar Jogo
                </button>
            </div>
            <!-- FIM DO NOVO BLOCO DO JOGO -->

        </div>
    </main>

    <!-- Modal de Desafio (Quando o Jogador perde) -->
    <div id="challenge-modal" class="challenge-modal">
        <div class="challenge-content">
            <h3 class="text-3xl font-extrabold text-pink-500 mb-4">DERROTA! Desafio Ativado! üòà</h3>
            <p id="challenge-text" class="text-xl text-white mb-6 font-medium">
                <!-- O desafio ser√° inserido aqui -->
            </p>
            <button onclick="closeChallengeModal()" class="px-6 py-2 bg-cyan-500 text-white font-bold rounded-full hover:bg-cyan-600 transition">
                Aceito o Desafio!
            </button>
        </div>
    </div>

    <!-- Rodap√© -->
    <footer class="p-4 text-center text-sm text-gray-400 bg-slate-900 border-t border-pink-500">
        &copy; 2025-2026 P√°gina Oficial da Viagem ao Resort La Torre. Mal podemos esperar!
    </footer>

    <!-- Script JavaScript para a Contagem Regressiva e Conte√∫do Din√¢mico -->
    <script>
        // --- CONSTANTES DE TEMPO (Mantidas) ---
        // Ponto de partida fixo para calcular o progresso (0%): 25 de Novembro de 2025
        const START_DATE = new Date("November 25, 2025 00:00:00").getTime(); 
        // Data alvo (100%): 09 de Novembro de 2026
        const TARGET_DATE = new Date("November 09, 2026 00:00:00").getTime();
        const TOTAL_DURATION = TARGET_DATE - START_DATE;
        
        // --- CONTE√öDO DIN√ÇMICO (Mantidas) ---

        const CURIOSITIES = [
            '**Porto Seguro** foi o local onde a frota de Pedro √Ålvares Cabral aportou pela primeira vez no Brasil, em 1500, marcando o in√≠cio da nossa hist√≥ria!',
            'O nome **Bahia** significa "ba√≠a" em portugu√™s arcaico, referindo-se √† grande Ba√≠a de Todos-os-Santos.',
            'A **Praia do Mut√°**, onde o Resort La Torre est√° localizado, √© famosa pelas suas piscinas naturais na mar√© baixa, ideais para mergulho e observa√ß√£o de peixes.',
            'O **Ver√£o na Bahia** √© tipicamente longo, com temperaturas elevadas e sol forte. Perfeito para o All Inclusive!',
            'O **Passarela do √Ålcool**, em Porto Seguro, √© um ponto tur√≠stico famoso, repleto de bares, restaurantes e lojas de artesanato.',
            'A **temperatura m√©dia anual** em Porto Seguro √© de cerca de 24¬∞C, garantindo calor o ano inteiro, especialmente em Novembro.',
            'O famoso coquetel **Bombeirinho** nasceu em Porto Seguro. Ele leva vodka, leite condensado, guaran√° em p√≥, canela e √© uma parada obrigat√≥ria!',
            'Porto Seguro faz parte da chamada **Costa do Descobrimento**, que abrange lindas praias e recifes de coral.',
            'A **cultura ind√≠gena Patax√≥** √© muito presente na regi√£o, e eventos como o Ritual da Lua Cheia no resort celebram essa tradi√ß√£o.',
            'Voc√™ sabia que o mar da Bahia possui o **maior banco de recifes de coral** do Atl√¢ntico Sul? √â um para√≠so marinho!',
            'O distrito de **Arraial d\'Ajuda** e **Trancoso**, com suas igrejas hist√≥ricas e praias paradis√≠acas, ficam bem pr√≥ximos e valem a visita!',
            '**Acaraj√© e Vatap√°** s√£o patrim√¥nios gastron√¥micos da Bahia. A culin√°ria local √© uma mistura rica de sabores africanos e portugueses.',
            'A culin√°ria baiana faz uso intenso do **dend√™**, um √≥leo avermelhado extra√≠do de uma palmeira, que d√° o sabor caracter√≠stico aos pratos.',
            'O **Parque Nacional do Monte Pascoal**, que pode ser visto de longe, √© o marco inicial da terra avistada pelos portugueses.',
            'O m√™s de **Novembro** em Porto Seguro marca o in√≠cio da alta temporada, com clima agrad√°vel e pouca chuva.',
            'A Bahia √© o estado com a **maior costa litor√¢nea** do Brasil, oferecendo uma variedade infinita de praias.',
            'A palavra **"ax√©"**, t√£o ligada √† Bahia, significa energia positiva ou for√ßa vital na cultura Iorub√°.',
            'O Resort La Torre √© considerado **Pet Friendly**, o que √© uma curiosidade em resorts All Inclusive de grande porte!',
            'A regi√£o √© um excelente ponto para observa√ß√£o de **baleias jubarte** entre Julho e Outubro (pena que nossa viagem √© em Novembro, mas a √°gua estar√° quentinha!).',
            'Porto Seguro possui um aeroporto internacional (BPS), facilitando muito o acesso de turistas de todo o Brasil e do mundo.',
            'O sol na Bahia √© o segundo mais forte do Brasil. Use e abuse do protetor solar para aproveitar ao m√°ximo!',
        ];

        const RESORT_TIPS = [
            '**OMAKASE - GASTRONOMIA JAPONESA:** Inspirado na rica tradi√ß√£o japonesa, o Omakase traz ao La Torre uma verdadeira imers√£o na gastronomia oriental dentro do sistema All Inclusive. Seu nome, que significa ‚ÄúEu confio em voc√™‚Äù, reflete o esp√≠rito de um menu autoral criado com ingredientes frescos e sazonais, preparados pelo nosso chef, especialmente para o seu paladar. Tudo em um ambiente acolhedor, com ilumina√ß√£o suave, atmosfera intimista e detalhes minimalistas.',
            '**GINO GASTRONOMIA - CHARME √Ä BEIRA-MAR:** Os charmosos espa√ßos gastron√¥micos existentes no La Torre trazem, em sua maioria, uma atmosfera r√∫stica, com ilumina√ß√£o intimista e agrad√°vel. Mesmo em ambientes com estrutura mais fechada, busca-se manter o contato com a natureza, sempre respeitando as refer√™ncias arquitet√¥nicas da regi√£o, e levando ao h√≥spede uma experi√™ncia completa, unindo arquitetura e gastronomia.',
            '**OBSERVA√á√ÉO ASTRON√îMICA (Em Novembro!):** Que tal viver a experi√™ncia de observar astros e estrelas com equipamentos profissionais? No m√™s de Novembro as noites no Park Lounge, que j√° s√£o encantadoras sob a luz das estrelas e do luar, v√£o ficar ainda mais especiais com os diversos telesc√≥pios dispon√≠veis para observa√ß√£o. Uma atra√ß√£o perfeita para a nossa viagem!',
            '**CLUBE DE PRAIA LA TORRE - EXCLUSIVIDADE:** Seu acesso √© exclusivo ao  Clube de Praia privativo, com infraestrutura premium, servi√ßos de bar e restaurante na areia, e cadeiras confort√°veis para um relaxamento sofisticado na Praia do Mut√°.',
            '**ALL INCLUSIVE PREMIUM:** No Resort, sua experi√™ncia All Inclusive √© completa e integrada: acomoda√ß√µes, gastronomia de alta qualidade (com 5 refei√ß√µes principais e lanches) e lazer, sem precisar se preocupar com a carteira. Aproveite tudo, sem modera√ß√£o!',
            '**O LA TORRE √â PET FRIENDLY:** Se voc√™ est√° planejando levar seu animal de estima√ß√£o, saiba que o resort √© Pet Friendly! Informe-se sobre as regras e taxas espec√≠ficas para garantir que voc√™ e seus pets desfrutem da experi√™ncia completa e harmoniosa.',
            '**SPA: MOMENTO RELAX:** O espa√ßo de Spa do Resort La Torre oferece servi√ßos e cuidados especiais em um ambiente projetado para uma experi√™ncia relaxante, personalizada e com muito conforto. N√£o deixe de agendar uma massagem para recarregar as energias.',
            '**SUSTENTABILIDADE:** O resort tem um forte compromisso com a sustentabilidade e boas pr√°ticas em ESG, preservando o meio ambiente da Costa do Descobrimento e beneficiando a comunidade local. Voc√™ estar√° em um local que se preocupa com o futuro!',
            '**RITUAL DA LUA CHEIA:** A praia do Mut√° te convida para uma experi√™ncia m√°gica sob a luz do luar, com apresenta√ß√£o de ind√≠genas Patax√≥s, mesas de frutas, drinks e muita m√∫sica. Um evento cultural e lindo que pode acontecer durante a nossa estadia. Fique de olho na programa√ß√£o!',
        ];

        // --- FUN√á√ïES DE CONTE√öDO DIN√ÇMICO (Mantidas) ---
        function getDynamicItem(array) {
            const intervalMs = 43200000; 
            const index = Math.floor(Date.now() / intervalMs) % array.length;
            return array[index];
        }

        function updateDynamicContent() {
            document.getElementById("curiosity-content").innerHTML = getDynamicItem(CURIOSITIES);
            document.getElementById("resort-tip-content").innerHTML = getDynamicItem(RESORT_TIPS);
        }

        function updateTimeDisplay() {
            const now = new Date().getTime();
            const distance = TARGET_DATE - now;

            // --- 1. Contagem Regressiva e L√≥gica de Fim ---
            if (distance < 0) {
                clearInterval(countdownFunction);
                document.getElementById("countdown").innerHTML = '<div class="text-4xl font-extrabold text-pink-500 col-span-4">√â HOJE! A VIAGEM COME√áOU!</div>';
                
                // Finaliza a barra de progresso
                document.getElementById("loading-text").textContent = 'CARREGAMENTO CONCLU√çDO 100%';
                document.getElementById("progress-bar").style.width = '100%';

                return;
            }

            // C√°lculo do tempo para dias, horas, minutos e segundos
            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            // Atualiza os elementos no DOM
            document.getElementById("days").innerHTML = days;
            document.getElementById("hours").innerHTML = hours;
            document.getElementById("minutes").innerHTML = minutes;
            document.getElementById("seconds").innerHTML = seconds;

            // --- 2. Barra de Progresso (%) ---
            const elapsedTime = now - START_DATE;
            let percentage = (elapsedTime / TOTAL_DURATION) * 100;
            
            if (percentage < 0) {
                percentage = 0;
            } else if (percentage > 100) {
                percentage = 100;
            }
            
            const percentText = Math.floor(percentage);
            document.getElementById("loading-text").textContent = `LOADING ${percentText}%`;
            document.getElementById("progress-bar").style.width = `${percentage}%`;
        }

        // --- JOGO DA VELHA (TIC-TAC-TOE) ---

        // Desafios que aparecem quando o jogador (X) perde para o computador (O)
        const CHALLENGES = [
            "Perdeu, agora voce ter√° que pular na piscina de noite! üåô (Brincadeira, fa√ßa isso com seguran√ßa e se o resort permitir!)",
            "Perdeu, te desafio a comer um picol√© inteiro em 1 minuto! ü•∂",
            "Perdeu, voc√™ ter√° que pegar uma bebida para Rebecca! üçπ",
            "Perdeu, voce ter√° que provar a todos que nao tem chul√© !",
            "Perdeu, voce ter√° que acordar todo dia as 06 da manha para ver o nascer do sol! üåÖ",
            "Perdeu, voc√™ ter√° que cantar uma m√∫sica bem brega no karaok√™ do resort! üé§",
            "Perdeu, fa√ßa uma pose engra√ßada e tire uma foto com a est√°tua mais estranha que encontrar! üòÇ",
            "Perdeu, diga um elogio sincero a um estranho na praia! üòâ",
            "Perdeu, troque de bon√©/chap√©u com algu√©m da fam√≠lia por uma hora. üé©",
            "Perdeu, pe√ßa um prato no restaurante que voc√™ nunca comeu antes. Se for ruim, tem que comer tudo! Se for bom, ter√° que dividir com o Rafael üçΩÔ∏è",
        ];

        let board = ["", "", "", "", "", "", "", "", ""];
        let currentPlayer = "X"; // Jogador √© X, Computador √© O
        let gameActive = true;
        const statusDisplay = document.getElementById("game-status");
        const cells = document.querySelectorAll(".cell");
        const challengeModal = document.getElementById("challenge-modal");
        const challengeText = document.getElementById("challenge-text");
        
        // Combina√ß√µes de vit√≥ria
        const winningConditions = [
            [0, 1, 2], [3, 4, 5], [6, 7, 8], // Linhas
            [0, 3, 6], [1, 4, 7], [2, 5, 8], // Colunas
            [0, 4, 8], [2, 4, 6]             // Diagonais
        ];

        /**
         * Verifica se as condi√ß√µes de vit√≥ria foram alcan√ßadas
         * @returns {boolean} True se houver um vencedor, false caso contr√°rio.
         */
        function checkWin() {
            for (let i = 0; i < winningConditions.length; i++) {
                const [a, b, c] = winningConditions[i];
                if (board[a] && board[a] === board[b] && board[a] === board[c]) {
                    gameActive = false;
                    return true;
                }
            }
            return false;
        }

        /**
         * Verifica se houve empate
         * @returns {boolean} True se for empate, false caso contr√°rio.
         */
        function checkDraw() {
            return !board.includes("");
        }
        
        /**
         * Atualiza a mensagem de status do jogo.
         * @param {string} message - A mensagem a ser exibida.
         */
        function updateStatus(message) {
            statusDisplay.textContent = message;
        }

        /**
         * Exibe a mensagem de desafio quando o jogador perde.
         */
        function showChallenge(winner) {
            if (winner === "O") { // Apenas se o Computador (O) vencer
                const randomIndex = Math.floor(Math.random() * CHALLENGES.length);
                challengeText.textContent = CHALLENGES[randomIndex];
                challengeModal.style.display = 'flex';
            }
        }
        
        /**
         * Fecha o modal de desafio
         */
        window.closeChallengeModal = function() {
            challengeModal.style.display = 'none';
        }

        /**
         * L√≥gica de jogada do computador (O).
         */
        function computerMove() {
            if (!gameActive) return;

            // 1. Tenta vencer
            for (let i = 0; i < winningConditions.length; i++) {
                const [a, b, c] = winningConditions[i];
                if (board[a] === "O" && board[b] === "O" && board[c] === "") return playMove(c);
                if (board[a] === "O" && board[c] === "O" && board[b] === "") return playMove(b);
                if (board[b] === "O" && board[c] === "O" && board[a] === "") return playMove(a);
            }

            // 2. Tenta bloquear o jogador (X)
            for (let i = 0; i < winningConditions.length; i++) {
                const [a, b, c] = winningConditions[i];
                if (board[a] === "X" && board[b] === "X" && board[c] === "") return playMove(c);
                if (board[a] === "X" && board[c] === "X" && board[b] === "") return playMove(b);
                if (board[b] === "X" && board[c] === "X" && board[a] === "") return playMove(a);
            }
            
            // 3. Joga no centro se estiver vazio
            if (board[4] === "") return playMove(4);

            // 4. Joga em um canto aleat√≥rio
            const corners = [0, 2, 6, 8].filter(index => board[index] === "");
            if (corners.length > 0) return playMove(corners[Math.floor(Math.random() * corners.length)]);
            
            // 5. Joga aleatoriamente em qualquer lugar vazio
            const availableMoves = board.map((val, index) => val === "" ? index : null).filter(val => val !== null);
            if (availableMoves.length > 0) {
                const moveIndex = availableMoves[Math.floor(Math.random() * availableMoves.length)];
                return playMove(moveIndex);
            }
        }
        
        /**
         * Executa a jogada na c√©lula fornecida e verifica o estado do jogo.
         * @param {number} index - O √≠ndice da c√©lula a ser jogada.
         */
        function playMove(index) {
            if (board[index] !== "" || !gameActive) return;
            
            board[index] = currentPlayer;
            cells[index].textContent = currentPlayer;
            cells[index].classList.add(currentPlayer.toLowerCase());

            if (checkWin()) {
                updateStatus(currentPlayer === "X" ? "VOC√ä VENCEU! üéâ" : "O COMPUTADOR VENCEU! ü§ñ");
                showChallenge(currentPlayer);
                return;
            }

            if (checkDraw()) {
                updateStatus("EMPATE! ü§ù");
                gameActive = false;
                return;
            }

            // Troca o jogador
            currentPlayer = currentPlayer === "X" ? "O" : "X";
            updateStatus(currentPlayer === "X" ? "Sua vez (X)" : "Vez do Computador (O)...");

            // Se for a vez do computador, chama a jogada dele ap√≥s um pequeno delay
            if (currentPlayer === "O") {
                setTimeout(computerMove, 500); 
            }
        }


        /**
         * Lida com o clique do jogador.
         * @param {Event} event - O evento de clique.
         */
        function handleCellClick(event) {
            const clickedCell = event.target;
            const clickedCellIndex = parseInt(clickedCell.getAttribute('data-index'));

            if (board[clickedCellIndex] !== "" || !gameActive || currentPlayer === "O") {
                return;
            }
            
            playMove(clickedCellIndex);
        }

        /**
         * Reinicia o estado do jogo.
         */
        function resetGame() {
            board = ["", "", "", "", "", "", "", "", ""];
            gameActive = true;
            currentPlayer = "X";
            updateStatus("Sua vez (X)");
            
            cells.forEach(cell => {
                cell.textContent = "";
                cell.classList.remove("x", "o");
            });

            // Garante que o modal de desafio esteja fechado ao reiniciar
            closeChallengeModal();
        }


        // --- EVENT LISTENERS E INICIALIZA√á√ÉO ---
        
        // 1. Contagem Regressiva e Barra de Progresso
        const countdownFunction = setInterval(updateTimeDisplay, 1000);

        // 2. Conte√∫do Din√¢mico
        updateDynamicContent();
        setInterval(updateDynamicContent, 43200000); // Atualiza a cada 12 horas

        // 3. Jogo da Velha
        document.addEventListener('DOMContentLoaded', () => {
             document.body.style.fontFamily = 'Inter, sans-serif';
             updateTimeDisplay(); // Garante que a contagem e a barra iniciam imediatamente

             // Adiciona listeners para as c√©lulas do jogo
             cells.forEach(cell => cell.addEventListener('click', handleCellClick));
             // Adiciona listener para o bot√£o de reset
             document.getElementById("reset-button").addEventListener('click', resetGame);
             
             resetGame(); // Inicializa o jogo
        });

    </script>
</body>
</html>